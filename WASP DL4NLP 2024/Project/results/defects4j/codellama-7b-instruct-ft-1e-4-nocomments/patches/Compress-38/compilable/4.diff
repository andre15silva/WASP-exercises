diff --git a/tmp/6529a3a5-620d-4a78-a0aa-445eb9417b6d_buggy.java b/tmp/43b44df3-6e81-4ba0-992b-387712204748_fixed.java
index 192e83d..540592a 100644
--- a/tmp/6529a3a5-620d-4a78-a0aa-445eb9417b6d_buggy.java
+++ b/tmp/43b44df3-6e81-4ba0-992b-387712204748_fixed.java
@@ -1,21 +1,34 @@
     /**
      * Return whether or not this entry represents a directory.
      *
      * @return True if this entry is a directory.
      */
     @Override
     public boolean isDirectory() {
         if (file != null) {
             return file.isDirectory();
         }
-
         if (linkFlag == LF_DIR) {
             return true;
         }
-
-        if (getName().endsWith("/")) {
+        String name = getName();
+        final int len = name.length();
+        if (name.lastIndexOf('/') < 0) {
+            final int index = name.indexOf('/');
+            if ((index > 0 && name.lastIndexOf('.', len - index) < index) && name.lastIndexOf('.', len - index) <= 0) {
+                int i = len - 1 - len;
+                while (i >= 0) {
+                    if (name.charAt(i) == '/') {
+                        final String prefix = name.substring(index + 1);
+                        if (prefix.endsWith(name.substring(0, i))) {
                             return true;
                         }
-
+                    }
+                    i--;
+                }
+            }
+        } else {
+            return name.endsWith("/");
+        }
         return false;
     }
\ No newline at end of file
