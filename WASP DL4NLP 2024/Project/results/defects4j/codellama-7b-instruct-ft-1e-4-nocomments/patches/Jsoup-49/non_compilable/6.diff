diff --git a/tmp/4ec37db3-a5cd-4721-bd56-f780d6f8dac6_buggy.java b/tmp/adff285c-a6d3-4970-8e1e-bc9ad6fe3c26_fixed.java
index a37dc7a..e6e8bdb 100644
--- a/tmp/4ec37db3-a5cd-4721-bd56-f780d6f8dac6_buggy.java
+++ b/tmp/adff285c-a6d3-4970-8e1e-bc9ad6fe3c26_fixed.java
@@ -1,10 +1,12 @@
     protected void addChildren(int index, Node... children) {
         Validate.noNullElements(children);
         ensureChildNodes();
         for (int i = children.length - 1; i >= 0; i--) {
             Node in = children[i];
             reparentChild(in);
             childNodes.add(index, in);
+            if (in.parent() != null) {
+                index = in.parent().indexOf(in);
+            }
         }
-        reindexChildren(index);
     }
\ No newline at end of file
