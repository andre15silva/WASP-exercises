diff --git a/tmp/600b89ba-c1d3-4797-ba4f-09dddab7dd7f_buggy.java b/tmp/d29d4729-b1fc-4217-b400-91c73a00defe_fixed.java
index 111ba5e..23ff67e 100644
--- a/tmp/600b89ba-c1d3-4797-ba4f-09dddab7dd7f_buggy.java
+++ b/tmp/d29d4729-b1fc-4217-b400-91c73a00defe_fixed.java
@@ -1,9 +1,18 @@
     public static boolean areEqual(Object o1, Object o2) {
         if (o1 == null || o2 == null) {
             return o1 == null && o2 == null;
         } else if (isArray(o1)) {
             return isArray(o2) && areArraysEqual(o1, o2);
         } else {
-            return o1.equals(o2);
+	    if (o1.getClass().isArray()) {
+		if (o2.getClass().isArray()) {
+		    return isArrayOfSameComponentTypeAndAreArraysEqual(o1, o2);
+		} else {
+		    return false;
+		}
+	    } else {
+		return (o1 == o2 || (o1.getClass() != o2.getClass() && o1.getClass().getName().equals(o2.getClass().getName()))) &&
+			 ((Boolean)o1.getClass().getMethod("equals", new Class[] {o1.getClass(), o2.getClass()}).invoke(null,new Object[] {o1, o2}));
+	    }
         }
     }
\ No newline at end of file
