diff --git a/tmp/ceb2bd98-c2d8-4b23-954a-178e8d48c5ff_buggy.java b/tmp/c95a7f55-acf8-4ff7-b121-b8fc627fbe54_fixed.java
index 5eedc11..247c3d9 100644
--- a/tmp/ceb2bd98-c2d8-4b23-954a-178e8d48c5ff_buggy.java
+++ b/tmp/c95a7f55-acf8-4ff7-b121-b8fc627fbe54_fixed.java
@@ -1,6 +1,29 @@
     private static void handleRawtext(Token.StartTag startTag, HtmlTreeBuilder tb) {
         tb.insert(startTag);
         tb.tokeniser.transition(TokeniserState.Rawtext);
         tb.markInsertionMode();
-        tb.transition(Text);
+        boolean knownEmpty = HtmlTreeBuilder.oneOf(startTag.getTagName(), "style", "noframes", "noscript");
+        tb.transition(new InsertionMode() {
+            @Override
+            public boolean process(Token token, HtmlTreeBuilder tb) {
+                if (knownEmpty) {
+                    if (isMetaElement(token) && token.getName().equals("meta")) {
+                        tb.insert(token);
+                        return true;
+                    } else if (!token.isEOF() && !(isWhitespace(token) || isMetaElement(token) || isScripting(token) || isFrameset(token))) {
+                        StringBuilder sb = new StringBuilder("<");
+                        sb.append(token.getName());
+                        if (!token.getDataAttributes().isEmpty()) {
+                            for (Entry<Key, String> e : token.getDataAttributes().entrySet()) {
+                                sb.append(" ");
+                                sb.append(e.getKey().getAttributeName() + "=\"" + e.getValue() + '"');
+                            }
+                        }
+                        sb.append(">");
+                        return tb.insert(new Token.Comment(sb.toString()));
+                    }
+                }
+                return Token.Replacement.breakOut;
+            }
+        });
     }
\ No newline at end of file
