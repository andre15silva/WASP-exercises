diff --git a/tmp/190ff5a3-f0eb-49e9-a3fc-209124a12cac_buggy.java b/tmp/d93b46e9-1bc9-44ab-b059-be27a4f6153f_fixed.java
index 46799da..c491559 100644
--- a/tmp/190ff5a3-f0eb-49e9-a3fc-209124a12cac_buggy.java
+++ b/tmp/d93b46e9-1bc9-44ab-b059-be27a4f6153f_fixed.java
@@ -1,8 +1,22 @@
         /**
          * @param x Normalized objective variables.
          * @return the original objective variables, possibly repaired.
          */
         public double[] repairAndDecode(final double[] x) {
-            return
-                decode(x);
+            final double[] q = decode(x);
+            final int dim = q.length;
+            final double[] p = new double[dim];
+            double pmin,pmax,ptol;
+            for (int j=0; j < dim; ++j) {
+                pmax = m_upper[j];
+                pmin = m_lower[j];
+                ptol = Math.max(m_pTol.valueAt(pmax-pmin),m_pTol.valueAt(pmax-q[j]));
+                p[j] = q[j];
+                if (q[j] < pmin) {
+                    p[j] = pmax - ptol;
+                } else if (q[j] > pmax) {
+                    p[j] = pmin + ptol;
+                }
+            }
+            return p;
         }
\ No newline at end of file
