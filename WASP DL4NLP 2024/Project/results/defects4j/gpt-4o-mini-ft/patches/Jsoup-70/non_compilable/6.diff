diff --git a/tmp/51fec591-630b-44e6-948c-a13dcc23dac6_buggy.java b/tmp/dccc37b3-b4a2-4ff3-95f8-62662d829911_fixed.java
index 6c87721..07b48f4 100644
--- a/tmp/51fec591-630b-44e6-948c-a13dcc23dac6_buggy.java
+++ b/tmp/dccc37b3-b4a2-4ff3-95f8-62662d829911_fixed.java
@@ -1,11 +1,12 @@
     static boolean preserveWhitespace(Node node) {
         // looks only at this element and five levels up, to prevent recursion & needless stack searches
         if (node != null && node instanceof Element) {
             Element el = (Element) node;
-                if (el.tag.preserveWhitespace())
+            if (el.tag.preserveWhitespace() || (el.parents().size() < 6 && el.parents().contains(getHead()))) { // head element is special
                 return true;
-                else
+            } else {
                 return el.parent() != null && el.parent().tag.preserveWhitespace();
             }
+        }
         return false;
     }
