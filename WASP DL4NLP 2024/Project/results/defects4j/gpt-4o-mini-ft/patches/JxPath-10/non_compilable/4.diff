diff --git a/tmp/9e08bf7c-5c78-4b0b-bff5-645c3aa8f9d5_buggy.java b/tmp/9f099695-25e6-4b9b-bd62-03a7212f265a_fixed.java
index b86b44d..3f3e6d9 100644
--- a/tmp/9e08bf7c-5c78-4b0b-bff5-645c3aa8f9d5_buggy.java
+++ b/tmp/9f099695-25e6-4b9b-bd62-03a7212f265a_fixed.java
@@ -1,4 +1,17 @@
     public final Object computeValue(EvalContext context) {
-        return compute(args[0].computeValue(context), args[1].computeValue(context))
-                ? Boolean.TRUE : Boolean.FALSE;
+    	Object arg0 = args[0].computeValue(context);
+    	Object arg1 = args[1].computeValue(context);
+    	if (arg0 instanceof NodeSet && ((NodeSet)arg0).isEmpty()
+    			|| arg1 instanceof NodeSet && ((NodeSet)arg1).isEmpty()) {
+    		// The test expression never returns either true or false because the
+    		// operand is always at least one-node. This is because the NodeSet
+    		// case returned either true for 'not(../zero)' and false for 'not(
+    		// install_state = "0")'. In these cases, it ultimately returns
+    		// org.apache.xpath.VariableStack#elementOfNodeSet(Object).
+    		String name = getName();
+    		String message = MessageUtils.messages.messageForContext(
+    				"ojc.ssa.error.testNotSupported", worker, name);
+    		throw new JasperException(message);
+    	}
+        return compute(arg0, arg1) ? Boolean.TRUE : Boolean.FALSE;
     }
