diff --git a/tmp/b201fdad-1e9e-4942-b4c6-ec6e3492841c_buggy.java b/tmp/1e937914-d264-4dab-9b95-403e8b6ed822_fixed.java
index 516fad7..c7037a1 100644
--- a/tmp/b201fdad-1e9e-4942-b4c6-ec6e3492841c_buggy.java
+++ b/tmp/1e937914-d264-4dab-9b95-403e8b6ed822_fixed.java
@@ -1,8 +1,23 @@
     /**
      * If the property contains a collection, then the length of that
      * collection, otherwise - 1.
      * @return int length
      */
     public int getLength() {
         return ValueUtils.getLength(getBaseValue());
     }
+
+    public boolean equals(Object obj) {
+        if (getBaseValue() instanceof MapValue) {
+            MapValue other = (MapValue)obj;
+            ValueSelector a = getSelector(),
+                    b = other.getSelector();
+            if (a.getBackingValue() instanceof Collection) {
+                Collection c = (Collection) a.getBackingValue();
+                Collection otherCollection = (Collection) b.getBackingValue();
+                return ! c.equivalenceEqual(otherCollection) ||
+                        ! otherCollection.equivalenceEqual(c);
+            }
+        }
+        return false;
+    }
