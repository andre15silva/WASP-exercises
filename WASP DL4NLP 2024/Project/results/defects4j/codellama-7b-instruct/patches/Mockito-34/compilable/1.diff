diff --git a/tmp/ffd3700b-4ea6-40b3-af01-0d8c361bbcc5_buggy.java b/tmp/88900edd-005f-4fac-afaa-d95ac0d62a68_fixed.java
index d68a69c..e71f5c9 100644
--- a/tmp/ffd3700b-4ea6-40b3-af01-0d8c361bbcc5_buggy.java
+++ b/tmp/88900edd-005f-4fac-afaa-d95ac0d62a68_fixed.java
@@ -1,9 +1,16 @@
     public void captureArgumentsFrom(Invocation i) {
+        if (i.getArguments() == null || i.getArguments().length == 0) {
+            throw new IllegalArgumentException("Cannot capture arguments from null or empty argument list");
+        }
         int k = 0;
         for (Matcher m : matchers) {
             if (m instanceof CapturesArguments) {
+                if (k < i.getArguments().length) {
                     ((CapturesArguments) m).captureFrom(i.getArguments()[k]);
+                } else {
+                    break;
+                }
             }
             k++;
         }
     }
