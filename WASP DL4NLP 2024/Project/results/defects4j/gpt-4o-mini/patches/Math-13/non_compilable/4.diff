diff --git a/tmp/48a3fb68-2ed2-48c1-9908-e7e378142008_buggy.java b/tmp/74460e20-66b9-4cd1-b2a6-52e7f2a68564_fixed.java
index 4e21866..f308ce1 100644
--- a/tmp/48a3fb68-2ed2-48c1-9908-e7e378142008_buggy.java
+++ b/tmp/74460e20-66b9-4cd1-b2a6-52e7f2a68564_fixed.java
@@ -1,10 +1,26 @@
     /**
      * Computes the square-root of the weight matrix.
      *
      * @param m Symmetric, positive-definite (weight) matrix.
      * @return the square-root of the weight matrix.
      */
     private RealMatrix squareRoot(RealMatrix m) {
+            // Check if the matrix is symmetric positive-definite.
+            if (!m.isSquare() || !isPositiveDefinite(m)) {
+                throw new IllegalArgumentException("Matrix must be symmetric and positive-definite.");
+            }
             final EigenDecomposition dec = new EigenDecomposition(m);
             return dec.getSquareRoot();
     }
+
+    // Helper method to check if a matrix is positive-definite
+    private boolean isPositiveDefinite(RealMatrix m) {
+        // A sufficient condition is that all leading principal minors are positive.
+        for (int i = 1; i <= m.getRowDimension(); i++) {
+            RealMatrix subMatrix = m.getSubMatrix(0, i - 1, 0, i - 1);
+            if (subMatrix.getDeterminant() <= 0) {
+                return false;
+            }
+        }
+        return true;
+    }
\ No newline at end of file
