diff --git a/tmp/50d43d87-639a-4fd6-b1b5-2784a9c51d34_buggy.java b/tmp/56ac2900-3d17-48c3-a2e1-e04c2a2a2074_fixed.java
index e69de29..ff87197 100644
--- a/tmp/50d43d87-639a-4fd6-b1b5-2784a9c51d34_buggy.java
+++ b/tmp/56ac2900-3d17-48c3-a2e1-e04c2a2a2074_fixed.java
@@ -0,0 +1,24 @@
+public static <K, V> MultiValueMap<K, V> deserialize(byte[] bytes) {
+    ObjectInputStream ois = null;
+    try {
+        ois = new ObjectInputStream(new ByteArrayInputStream(bytes));
+        MultiValueMap<K, V> map = (MultiValueMap<K, V>) ois.readObject();
+        
+        // Check if the class type is safe
+        if (!List.class.isAssignableFrom(map.valueClass)) {
+            throw new UnsupportedOperationException("Unsafe class detected during deserialization");
+        }
+        
+        return map;
+    } catch (IOException | ClassNotFoundException e) {
+        throw new RuntimeException("Deserialization failed", e);
+    } finally {
+        if (ois != null) {
+            try {
+                ois.close();
+            } catch (IOException e) {
+                // Handle closing error
+            }
+        }
+    }
+}
\ No newline at end of file
