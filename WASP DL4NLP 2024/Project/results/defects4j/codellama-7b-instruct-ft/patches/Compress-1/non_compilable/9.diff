diff --git a/tmp/3629cdeb-19e5-4609-85f5-ff50f0b85909_buggy.java b/tmp/a4b9de4f-502c-4b0f-a5fe-0311953976ac_fixed.java
index c3986cc..9649005 100644
--- a/tmp/3629cdeb-19e5-4609-85f5-ff50f0b85909_buggy.java
+++ b/tmp/a4b9de4f-502c-4b0f-a5fe-0311953976ac_fixed.java
@@ -1,13 +1,24 @@
     /**
      * Closes the CPIO output stream as well as the stream being filtered.
      * 
      * @throws IOException
      *             if an I/O error has occurred or if a CPIO file error has
      *             occurred
      */
     public void close() throws IOException {
         if (!this.closed) {
-            super.close();
+            final OutputStream outputStream = this.outputStream;
+            try {
+                final BufferedOutputStream out = outputStream instanceof BufferedOutputStream
+                    ? (BufferedOutputStream) outputStream
+                    : new BufferedOutputStream(outputStream);
+                out.flush();
+            } finally {
+                try {
+                    outputStream.close();
+                } finally {
                     this.closed = true;
                 }
             }
+        }
+    }
