diff --git a/tmp/bed10919-3853-4f8e-a0be-aed9dbfd5287_buggy.java b/tmp/841db382-fd06-4ed8-92b2-4d1dcce702c2_fixed.java
index df97798..64ec447 100644
--- a/tmp/bed10919-3853-4f8e-a0be-aed9dbfd5287_buggy.java
+++ b/tmp/841db382-fd06-4ed8-92b2-4d1dcce702c2_fixed.java
@@ -1,9 +1,20 @@
     protected void _serializeXmlNull(JsonGenerator jgen) throws IOException
     {
-        // 14-Nov-2016, tatu: As per [dataformat-xml#213], we may have explicitly
-        //    configured root name...
+        // 14-Nov-2016, tatu: As per [dataformat-xml#213], we may have root name configured...
+        boolean rootWrapped = false;
         if (jgen instanceof ToXmlGenerator) {
-            _initWithRootName((ToXmlGenerator) jgen, ROOT_NAME_FOR_NULL);
+            ToXmlGenerator xgen = (ToXmlGenerator) jgen;
+            JsonSerializer<Object> serializer = _gen.getSerializerProvider()
+                    .findValueSerializer(String.class);
+            String rootName = serializer.unwrappedPropertyNames().get(0);
+            if (rootName == null) {
+                rootName = getRootName();
+            }
+            if ((getSerializationConfig() != null) // [dataformat-xml#119]
+                    && getSerializationConfig().isEnabled(SerializationFeature.WRAP_ROOT_VALUE)) {
+                rootWrapped = true;
+            }
+            xgen.setRootName(root);
         }
         super.serializeValue(jgen, null);
     }
