diff --git a/tmp/152f40ef-daea-4ce2-90e8-33c6893f87a5_buggy.java b/tmp/ca366175-0323-409a-b61e-90412d113d19_fixed.java
index e69de29..0fa2168 100644
--- a/tmp/152f40ef-daea-4ce2-90e8-33c6893f87a5_buggy.java
+++ b/tmp/ca366175-0323-409a-b61e-90412d113d19_fixed.java
@@ -0,0 +1,20 @@
+public MultiValueMap<K, V> deserialize(byte[] data) {
+    MenuInputStream stream = new MenuInputStream(data);
+    int count = stream.readInt();
+    MutableMultiValueMap<K, V> result = new MutableMultiValueMap<K, V>(getMapFactory());
+    Class<? extends Collection> collectionClass = getMapCollectionType();
+    for (int i = 0; i < count; i++) {
+        K key = null;
+        V value = null;
+        if (stream.readInt() == 1) {
+            key = readKey(stream);
+        }
+        if (stream.readInt() == 1) {
+            value = readValue(stream);
+        }
+        if (key != null || value != null) {
+            result.add(key, value);
+        };
+    }
+    return result;
+}
\ No newline at end of file
