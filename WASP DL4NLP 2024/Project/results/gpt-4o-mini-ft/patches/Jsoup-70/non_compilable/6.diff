diff --git a/tmp/b8e30791-182f-4913-95aa-b37d5ef0246e_buggy.java b/tmp/be924d74-c983-45d4-8a0f-bd01f652205f_fixed.java
index 6c87721..07b48f4 100644
--- a/tmp/b8e30791-182f-4913-95aa-b37d5ef0246e_buggy.java
+++ b/tmp/be924d74-c983-45d4-8a0f-bd01f652205f_fixed.java
@@ -1,11 +1,12 @@
     static boolean preserveWhitespace(Node node) {
         // looks only at this element and five levels up, to prevent recursion & needless stack searches
         if (node != null && node instanceof Element) {
             Element el = (Element) node;
-                if (el.tag.preserveWhitespace())
+            if (el.tag.preserveWhitespace() || (el.parents().size() < 6 && el.parents().contains(getHead()))) { // head element is special
                 return true;
-                else
+            } else {
                 return el.parent() != null && el.parent().tag.preserveWhitespace();
             }
+        }
         return false;
     }
